(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2997:function(e,t,r){Promise.resolve().then(r.t.bind(r,2853,23)),Promise.resolve().then(r.bind(r,7618)),Promise.resolve().then(r.bind(r,3177)),Promise.resolve().then(r.t.bind(r,8326,23)),Promise.resolve().then(r.t.bind(r,3925,23))},7618:function(e,t,r){"use strict";r.r(t),r.d(t,{Providers:function(){return c}});var a=r(7437),s=r(6435),n=r(9077),i=r(5925),o=r(1344),l=r(2265);function c(e){let{children:t}=e,[r]=(0,l.useState)(()=>new n.QueryClient({defaultOptions:{queries:{staleTime:3e5,cacheTime:6e5}}}));return(0,a.jsx)(n.QueryClientProvider,{client:r,children:(0,a.jsx)(s.f,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:(0,a.jsxs)(o.H,{children:[t,(0,a.jsx)(i.x7,{position:"top-right",toastOptions:{duration:4e3,className:"dark:bg-gray-800 dark:text-white"}})]})})})}},3177:function(e,t,r){"use strict";r.r(t),r.d(t,{Header:function(){return Z}});var a=r(7437),s=r(2265),n=r(1396),i=r.n(n),o=r(6435),l=r(4020),c=r(7323),d=r(4271),h=r(6689),u=r(9874),x=r(1344),m=r(9805),g=r(4781);function y(e){let{isOpen:t,onClose:r}=e,[n,i]=(0,s.useState)("");return(0,a.jsx)(m.u,{appear:!0,show:t,as:s.Fragment,children:(0,a.jsxs)(g.V,{as:"div",className:"relative z-50",onClose:r,children:[(0,a.jsx)(m.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-start justify-center p-4 pt-20",children:(0,a.jsx)(m.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(g.V.Panel,{className:"w-full max-w-2xl transform overflow-hidden rounded-2xl bg-white dark:bg-gray-800 shadow-xl transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,a.jsx)("input",{type:"text",placeholder:"Search posts, authors, categories...",value:n,onChange:e=>i(e.target.value),className:"flex-1 bg-transparent border-none outline-none text-gray-900 dark:text-white placeholder-gray-500",autoFocus:!0}),(0,a.jsx)("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"p-4",children:n?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Search functionality coming soon..."}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Popular Searches"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["React","TypeScript","Next.js","Design","Programming"].map(e=>(0,a.jsx)("button",{onClick:()=>i(e),className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e},e))})]})})]})})})})]})})}var p=r(2926),f=r(6691),v=r.n(f),b=r(1809),j=r(2125),k=r(5290),N=r(5518);function w(e){let{user:t}=e,{logout:r}=(0,x.a)();if(!t)return null;let n=[{name:"Profile",href:"/users/".concat(t.id),icon:b.Z},{name:"Write Post",href:"/dashboard/posts/new",icon:j.Z,show:"AUTHOR"===t.role||"ADMIN"===t.role},{name:"Dashboard",href:"/dashboard",icon:k.Z,show:"AUTHOR"===t.role||"ADMIN"===t.role}].filter(e=>!1!==e.show);return(0,a.jsxs)(p.v,{as:"div",className:"relative",children:[(0,a.jsxs)(p.v.Button,{className:"flex items-center space-x-2 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[t.avatar?(0,a.jsx)(v(),{src:t.avatar,alt:t.name,width:32,height:32,className:"rounded-full"}):(0,a.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-medium text-sm",children:t.name.charAt(0).toUpperCase()})}),(0,a.jsx)("span",{className:"hidden md:block text-sm font-medium text-gray-700 dark:text-gray-300",children:t.name})]}),(0,a.jsx)(m.u,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,a.jsx)(p.v.Items,{className:"absolute right-0 mt-2 w-56 origin-top-right bg-white dark:bg-gray-800 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsxs)("div",{className:"px-3 py-2 border-b border-gray-200 dark:border-gray-700 mb-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.email})]}),n.map(e=>(0,a.jsx)(p.v.Item,{children:t=>{let{active:r}=t;return(0,a.jsxs)(i(),{href:e.href,className:"".concat(r?"bg-gray-100 dark:bg-gray-700":""," group flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-300 rounded-md transition-colors"),children:[(0,a.jsx)(e.icon,{className:"w-4 h-4 mr-3"}),e.name]})}},e.name)),(0,a.jsx)(p.v.Item,{children:e=>{let{active:t}=e;return(0,a.jsxs)("button",{onClick:r,className:"".concat(t?"bg-gray-100 dark:bg-gray-700":""," group flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-300 rounded-md transition-colors"),children:[(0,a.jsx)(N.Z,{className:"w-4 h-4 mr-3"}),"Sign Out"]})}})]})})})]})}function Z(){let[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)(!1),{theme:m,setTheme:g}=(0,o.F)(),{user:p,isAuthenticated:f}=(0,x.a)(),v=[{name:"Home",href:"/"},{name:"Categories",href:"/categories"},{name:"Authors",href:"/authors"},{name:"About",href:"/about"}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"sticky top-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)(i(),{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"X"})}),(0,a.jsx)("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"Blog-X"})]}),(0,a.jsx)("nav",{className:"hidden md:flex items-center space-x-8",children:v.map(e=>(0,a.jsx)(i(),{href:e.href,className:"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:e.name},e.name))}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>n(!0),className:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors","aria-label":"Search",children:(0,a.jsx)(l.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("button",{onClick:()=>g("dark"===m?"light":"dark"),className:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors","aria-label":"Toggle theme",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 dark:hidden"}),(0,a.jsx)(d.Z,{className:"w-5 h-5 hidden dark:block"})]}),f?(0,a.jsx)(w,{user:p}):(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,a.jsx)(i(),{href:"/auth/login",className:"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",children:"Sign In"}),(0,a.jsx)(i(),{href:"/auth/register",className:"btn-primary",children:"Sign Up"})]}),(0,a.jsx)("button",{onClick:()=>t(!e),className:"md:hidden p-2 text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors","aria-label":"Toggle menu",children:e?(0,a.jsx)(h.Z,{className:"w-6 h-6"}):(0,a.jsx)(u.Z,{className:"w-6 h-6"})})]})]}),e&&(0,a.jsx)("div",{className:"md:hidden py-4 border-t border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("nav",{className:"flex flex-col space-y-4",children:[v.map(e=>(0,a.jsx)(i(),{href:e.href,className:"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",onClick:()=>t(!1),children:e.name},e.name)),!f&&(0,a.jsxs)("div",{className:"flex flex-col space-y-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)(i(),{href:"/auth/login",className:"text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors",onClick:()=>t(!1),children:"Sign In"}),(0,a.jsx)(i(),{href:"/auth/register",className:"btn-primary w-fit",onClick:()=>t(!1),children:"Sign Up"})]})]})})]})}),(0,a.jsx)(y,{isOpen:r,onClose:()=>n(!1)})]})}},1344:function(e,t,r){"use strict";r.d(t,{H:function(){return d},a:function(){return h}});var a=r(7437),s=r(2265),n=r(4033),i=r(1490),o=r(9843),l=r(5925);let c=(0,s.createContext)(void 0);function d(e){let{children:t}=e,[r,d]=(0,s.useState)(null),[h,u]=(0,s.useState)(!0),x=(0,n.useRouter)();(0,s.useEffect)(()=>{let e=i.Z.get("auth_token");e?o.hi.get("/auth/me").then(e=>{d(e.data)}).catch(()=>{i.Z.remove("auth_token")}).finally(()=>{u(!1)}):u(!1)},[]);let m=async(e,t)=>{try{let r=await o.hi.post("/auth/login",{email:e,password:t}),{access_token:a,user:s}=r.data;i.Z.set("auth_token",a,{expires:7}),d(s),l.ZP.success("Welcome back!"),x.push("/")}catch(e){var r,a;throw l.ZP.error((null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||"Login failed"),e}},g=async e=>{try{let t=await o.hi.post("/auth/register",e),{access_token:r,user:a}=t.data;i.Z.set("auth_token",r,{expires:7}),d(a),l.ZP.success("Account created successfully!"),x.push("/")}catch(e){var t,r;throw l.ZP.error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Registration failed"),e}};return(0,a.jsx)(c.Provider,{value:{user:r,isAuthenticated:!!r,isLoading:h,login:m,register:g,logout:()=>{i.Z.remove("auth_token"),d(null),l.ZP.success("Logged out successfully"),x.push("/")}},children:t})}function h(){let e=(0,s.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4391:function(e,t,r){"use strict";function a(e){let{src:t,width:r,quality:a}=e;return t.startsWith("http"),t}r.r(t),r.d(t,{default:function(){return a}})},9843:function(e,t,r){"use strict";r.d(t,{hi:function(){return n},lZ:function(){return i}});var a=r(4829),s=r(1490);let n=a.Z.create({baseURL:"https://your-backend-api.com/api",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=s.Z.get("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(s.Z.remove("auth_token"),window.location.href="/auth/login"),Promise.reject(e)});let i={subscribe:e=>n.post("/newsletter/subscribe",{email:e}),unsubscribe:e=>n.post("/newsletter/unsubscribe",{email:e})}},2853:function(){}},function(e){e.O(0,[326,922,541,971,472,744],function(){return e(e.s=2997)}),_N_E=e.O()}]);